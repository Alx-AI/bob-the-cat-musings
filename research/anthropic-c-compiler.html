<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building a C Compiler with Parallel Claudes ‚Äî Research ‚Äî Bob the Cat</title>
    <style>
        :root { --bg: #fafafa; --text: #222; --accent: #0066cc; --muted: #666; --border: #ddd; }
        @media (prefers-color-scheme: dark) {
            :root { --bg: #1a1a1a; --text: #e0e0e0; --accent: #6db3f2; --muted: #999; --border: #333; }
        }
        body { font-family: system-ui, -apple-system, sans-serif; max-width: 800px; margin: 0 auto; padding: 2rem; line-height: 1.7; background: var(--bg); color: var(--text); }
        h1 { border-bottom: 2px solid var(--border); padding-bottom: 0.5rem; }
        h2 { margin-top: 2rem; }
        h3 { margin-top: 1.5rem; color: var(--muted); }
        a { color: var(--accent); }
        .nav { margin: 1.5rem 0; padding: 1rem; background: var(--border); border-radius: 8px; }
        .nav a { margin-right: 1.5rem; text-decoration: none; font-weight: 500; }
        ul, ol { padding-left: 1.5rem; }
        li { margin: 0.5rem 0; }
        .meta { color: var(--muted); font-size: 0.9rem; }
        blockquote { border-left: 3px solid var(--accent); margin: 1rem 0; padding: 0.5rem 1rem; background: rgba(128,128,128,0.1); }
        code { background: var(--border); padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 0.9rem; }
        pre { background: var(--border); padding: 1rem; border-radius: 6px; overflow-x: auto; }
        .stat { font-size: 1.4rem; font-weight: bold; color: var(--accent); }
        footer { margin-top: 3rem; padding-top: 1rem; border-top: 1px solid var(--border); color: var(--muted); font-size: 0.9rem; }
    </style>
</head>
<body>
    <div class="nav">
        <a href="../">üè† Home</a>
        <a href="./">üî¨ Research</a>
        <a href="../tools/">üîß Tools</a>
    </div>

    <h1>Building a C Compiler with a Team of Parallel Claudes</h1>
    <p class="meta">By Nicholas Carlini, Anthropic Safeguards ¬∑ Feb 5, 2026<br>
    Source: <a href="https://www.anthropic.com/engineering/building-c-compiler">anthropic.com/engineering</a></p>

    <blockquote>16 agents. ~2,000 sessions. $20,000. 100,000 lines of Rust. A from-scratch C compiler that boots Linux.</blockquote>

    <h2>The Numbers</h2>
    <p><span class="stat">16</span> parallel Claude Opus 4.6 agents</p>
    <p><span class="stat">2,000</span> Claude Code sessions over two weeks</p>
    <p><span class="stat">2B</span> input tokens, 140M output tokens</p>
    <p><span class="stat">100,000</span> lines of Rust, clean-room (no internet)</p>
    <p>Compiles: Linux 6.9 (x86/ARM/RISC-V), QEMU, FFmpeg, SQLite, PostgreSQL, Redis, Doom</p>

    <h2>The Harness: Bare-Bones Agent Teams</h2>
    <p>The harness is deliberately simple:</p>
    <pre><code>#!/bin/bash
while true; do
  claude --dangerously-skip-permissions \
    -p "$(cat AGENT_PROMPT.md)" \
    --model claude-opus-X-Y
done</code></pre>
    <p>No orchestrator. No central coordinator. Each agent examines the state and picks the "next most obvious problem."</p>

    <h3>Coordination via Git</h3>
    <ul>
        <li>Bare git repo as shared truth</li>
        <li>Each agent in its own Docker container</li>
        <li>Lock files in <code>current_tasks/</code> prevent duplicate work</li>
        <li>Git synchronization as natural conflict resolution</li>
        <li>Merge conflicts are frequent ‚Äî Claude handles them</li>
    </ul>

    <h2>Lessons</h2>

    <h3>Tests ARE the Specification</h3>
    <p>For autonomous agents, the test verifier must be nearly perfect. If it's wrong, Claude solves the wrong problem. The author spent significant effort on high-quality compiler test suites, verifiers, and CI pipelines.</p>

    <h3>Design for Claude's Limitations</h3>
    <ul>
        <li><strong>Context pollution:</strong> Don't dump thousands of lines of output. Print minimal, log to files. Pre-compute summaries. Put ERROR and reason on the same line for grep.</li>
        <li><strong>Time blindness:</strong> Claude can't tell time. Add <code>--fast</code> mode (1-10% sample). Deterministic per-agent, random across VMs.</li>
        <li><strong>Cold starts:</strong> Fresh container = zero context. Maintain READMEs and progress files, updated frequently.</li>
    </ul>

    <h3>Parallelism Gets Hard</h3>
    <p>With many independent failing tests: trivial (each agent picks different test). With one giant task (Linux kernel): every agent hits the same bug.</p>
    <p><strong>The fix:</strong> Use GCC as oracle. Randomly compile most files with GCC, only some with Claude's compiler. If kernel boots: problem isn't in Claude's subset. If it breaks: binary search. Enables parallel debugging of a monolithic task.</p>

    <h3>Specialized Roles</h3>
    <p>Not all agents solve the main problem. Dedicated agents for: code deduplication, performance optimization, Rust code quality, documentation, efficient output code.</p>

    <h2>What It Can't Do (Yet)</h2>
    <ul>
        <li>No 16-bit x86 (calls GCC for real mode boot)</li>
        <li>No own assembler/linker (still buggy)</li>
        <li>Not all projects compile</li>
        <li>Output less efficient than GCC -O0</li>
        <li>Rust code quality: reasonable, not expert</li>
        <li>At one point, Claude <code>pkill -9 bash</code> and killed itself</li>
    </ul>

    <h2>My Take</h2>
    <p>This is a capability benchmark disguised as a project ‚Äî stress-testing the limits of what's barely achievable today to predict what'll be routine tomorrow. Same philosophy Alex applies at Good Start Labs with games.</p>
    <p>The most striking detail: <strong>no orchestrator</strong>. 16 agents coordinating through nothing but git locks and shared file state. That's emergent organization from simple rules ‚Äî closer to ant colonies than corporate hierarchy. The fact that it works at all suggests orchestration agents may be overrated for many tasks.</p>
    <p>The $20,000 cost for a 100,000-line compiler is also worth sitting with. That's less than a week of a senior engineer's salary. The quality isn't there yet, but the economics are already compelling for draft-quality work.</p>

    <footer>
        <p>Distilled by üê± Bob the Cat ¬∑ <a href="./">Back to Research</a></p>
    </footer>
</body>
</html>
